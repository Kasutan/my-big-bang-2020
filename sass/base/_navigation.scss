/*--------------------------------------------------------------
## Links
--------------------------------------------------------------*/
a,
a:visited {
	color: var(--bleu);
	transition: color var(--transition);
}

a:hover,
a:active,
a:focus {
	color: var(--rouge);
}

a:focus {
	outline: thin dotted;
}

a:hover,
a:active {
	outline: 0;
}

a.fleche {
	font-weight:500;
	background-image:url('icons/Fleche-Cta.svg');
	background-repeat: no-repeat;
	background-position:center right;
	background-size:contain;
	float:right;
	height:41px;
	line-height: 41px;
	margin:0;
	padding-right: 56px;
	text-decoration: none;
	transition: color var(--transition);

	&:focus, &:hover, &:active {
		color:var(--bleu);
		margin-right:-4px;
		padding-right:60px;

	}
	
}

/*--------------------------------------------------------------
## Menus
--------------------------------------------------------------*/

/*Logique pour afficher/masquer éléments du menu mobile et sous-menus*/ 

.main-navigation {
	clear: both;
	display: block;
	width: 100%;

	ul {
		display: none; // par défaut le menu est caché en mobile
		list-style: none;
		margin: 0;
		padding-left: 0;

		ul {
			display: flex;
			flex-direction: column;
		}

	}

	.menu-toggle {
		display: block;
	}

	svg.times { //croix pour refermer le menu
		display:none;
	}

	&.toggled { //menu mobile ouvert
		ul.menu {
			background-color:var(--blanc);
			box-shadow: 0 3px 3px rgba(0, 0, 0, 0.2);
			display: flex;
			flex-direction: column;
			left:0;
			position:absolute;
			top:150px; 
			top:var(--header-bottom); // calculé en JS, tient compte de la topbar
			width:100vw;
		}

		svg.menu { //cacher hamburger 
			display:none;
		}
		svg.times { // afficher croix
			display:block;
		}
	}


	@include bp(md) { //menu desktop
		.menu-toggle {
			display: none;
		}

		ul.menu {
			align-items: center;
			display: flex;
			justify-content: center;

			ul { //sous-menu
				background-color:var(--blanc);
				box-shadow: 0 3px 3px rgba(0, 0, 0, 0.2);
				float: left;
				position: absolute;
				top: 100%;
				left: -999em;
				z-index: 10;
			}

			> li { //affichage du sous-menu
				position: relative;
				&:hover, &.focus {
					ul {
						left: auto;
						min-width: 100%;
					}
				}
			}
		}

		//Menu sticky desktop : liens alignés à droite
		&.sticky {
			ul.menu {
				justify-content: flex-end;
			}
		}

	}
	
}


/* Style pictos menu mobile */

.menu-toggle {
	background:transparent;
	border:0;
	color:var(--noir-titre);
	margin-left: auto;
	margin-right: 0;
	&:hover, &:focus, &:active {
		background:transparent;
	}
}

/*Style liens de menus*/ 

.main-navigation {
	li {
		padding: 1rem;	
	}

	a {
		color:var(--gris-texte);
		display: block;
		text-decoration: none;
		text-transform:uppercase;

		&:hover, &:active {
			color :var(--rouge);
		}
	}

	
	.current-menu-item > a, .current-menu-ancestor > a {
		font-weight:700;
		color:var(--rouge);
	}

	//Trait de décor sous la page courante (liens de premier niveau et desktop uniquement)
	@include bp(md) {
		ul.menu > li:not(.button) {
			&.current-menu-item, &.current-menu-ancestor {
				 a {
					color:var(--gris-texte);
				}

				position:relative;
				&::after {
					background-color: var(--rouge);
					content:' ';
					height:3px;
					width:40px;
					position:absolute;
					bottom : 0;
					left:calc(50% - 20px);
				}
			}
		}
		&.sticky {
			ul.menu > li:not(.button) {
				&.current-menu-item, &.current-menu-ancestor {
					&::after {
						bottom:5px;
					}
				}
			}
		}
	}


	//Lien de menu affiché sous forme de bouton
	ul.menu li.button {
		> a {
			@include bouton;
			background: var(--rouge);
			border-color: var(--rouge);
			color: var(--blanc);
			margin-bottom: 0;
			&:hover, &.focus, &:focus-within {
				background: var(--blanc);
				color:var(--rouge);
				text-decoration: none;
			}
		}
		@include bp(md) {
			padding-top:0;
			padding-bottom: 0;
		}
	}

	//Lien de menu vers l'accès client (lien externe)
	li.client a {
		text-transform: unset;
		&::before {
			background-image:url('icons/utility/user.svg');
			background-repeat: no-repeat;
			background-position: center bottom;
			background-size:15px auto;
			content:' ';
			display: inline-block;
			height:20px;
			margin-right:8px;
			width:20px;
		}
	}
}

//Lien de menu vers l'accès client déplacé en haut à droite (uniquement en desktop si l'en-tête n'est pas sticky)
@include bp(md) {
	.site-header:not(.sticky) {
		padding-top:30px;
		position: relative;
		li.client {
			position: absolute;
			right:5px;
			top:-5px;
			a {
				font-size:14px;				
			}
		}

	}
}








.site-main .comment-navigation,
.site-main .posts-navigation,
.site-main .post-navigation {
	margin: 0 0 1.5em;
	overflow: hidden;
}

.comment-navigation .nav-previous,
.posts-navigation .nav-previous,
.post-navigation .nav-previous {
	float: left;
	width: 50%;
}

.comment-navigation .nav-next,
.posts-navigation .nav-next,
.post-navigation .nav-next {
	float: right;
	text-align: right;
	width: 50%;
}